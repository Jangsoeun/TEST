<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/aframe-draggable-component@3.0.1/dist/aframe-draggable-component.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- 홈 버튼 -->
      <a-image id="homeButton" src="./img/icon/home-icon.png" position="-0.8 1.95 -0.9" rotation="0 0 0" width="0.1" height="0.1" material="opacity: 0.9"></a-image>
      <img id="background" src="./img/background2.jpg">

      <a-assets>
        <img id="maincall" src="./img/call.png" alt="">
        <img id="maincallout" src="./img/callout.png" alt="">
        <img id="hud" src="./img/01/hud.png"> 
        <img id="main02" src="./img/01/main_m.png" alt="">
        <a-asset-item id="PBV" src="./glb/13.glb"></a-asset-item>
      </a-assets>

      <!-- 컨트롤러 -->
      <a-entity laser-controls="hand: right" raycaster="objects: .clickable" line="color: #fff; opacity: 0.75"></a-entity>
      <a-entity laser-controls="hand: left" raycaster="objects: .clickable" line="color: #fff; opacity: 0.75"></a-entity>

      <!-- 카메라와 커서 -->
      <a-camera position="0 1.6 1">
        <a-cursor rayOrigin="mouse" fuse="false" material="color: white; shader: flat;" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03;"></a-cursor>
      </a-camera>

      <!-- 3D 모델 -->
      <a-entity gltf-model="#PBV" position="2 1 0" rotation="0 270 0"></a-entity>
      <a-sky src="#background"></a-sky>

      <!-- 이미지 그룹 -->
      <a-plane id="call" position="-0.2 1.6 -0.9" width="0.8" height="0.4" material="src: #maincall; opacity: 0.8" class="clickable"></a-plane>

      <!-- 숨겨진 이미지들 -->
      <a-plane id="callout" position="0.4 1.25 -0.9" width="0.6" height="0.3" material="src: #maincallout; opacity: 0.8" visible="false"></a-plane>

      <!-- HUD -->
      <a-plane id="hudPlane" position="-0.4 1.2 -0.9" geometry="primitive: plane; height: 0.2; width: 0.4" material="src: #hud; opacity: 0.9" visible="true"></a-plane>

      <a-plane id="main02Plane" position="0.5 1.8 -0.9" geometry="primitive: plane; height: 0.5; width: 0.4" material="src: #main02; opacity: 0.9" visible="true"></a-plane>
    </a-scene>

    <script>
      // call 요소 클릭 시 call 숨기고 callout 표시
      document.getElementById('call').addEventListener('click', function() {
        // call 요소 숨기기
        this.setAttribute('visible', 'false');
        // callout 요소 표시
        document.getElementById('callout').setAttribute('visible', 'true');
      });
    </script>
  </body>
</html>

